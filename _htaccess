#RewriteCond %{HTTP_HOST} !^www\.gordio\.pp\.ua$
#RewriteRule ^(.*)$ http://www.gordio.pp.ua/$1 [L,R=301]


AddHandler cgi-script .py
DirectoryIndex run.py

RewriteEngine On
#RewriteRule ^run.py/(.*)$ - [S=1]
#RewriteRule ^(.*)$ run.py/$1 [QSA,L]
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ run.py/$1 [QSA,L]

# COMPRESS
<files *.js.gz>
	AddType "text/javascript" .gz
	AddEncoding gzip .gz
</files>
<files *.css.gz>
	AddType "text/css" .gz
	AddEncoding gzip .gz
</files>
# Check to see if browser can accept gzip files.
ReWriteCond %{HTTP:accept-encoding} gzip
RewriteCond %{HTTP_USER_AGENT} !Safari
# Make sure there's no trailing .gz on the url
ReWriteCond %{REQUEST_FILENAME} !^.+\.gz$
# Check to see if a .gz version of the file exists.
RewriteCond %{REQUEST_FILENAME}.gz -f
# All conditions met so add .gz to URL filename (invisibly)
RewriteRule ^(.+) $1.gz [QSA,L]


# CACHING
ExpiresActive On
ExpiresByType image/jpg "access plus 1 year"
ExpiresByType image/jpeg "access plus 1 year"
ExpiresByType image/gif "access plus 1 year"
ExpiresByType image/png "access plus 1 year"
ExpiresByType text/css "access plus 1 month"
ExpiresByType application/pdf "access plus 1 month"
ExpiresByType text/x-javascript "access plus 1 month"
ExpiresByType application/x-shockwave-flash "access plus 1 month"
ExpiresByType image/x-icon "access plus 1 year"
ExpiresDefault "access plus 2 days"

# COMPRESSING
<ifmodule mod_deflate.c>
	AddOutputFilterByType DEFLATE text/text text/html text/plain text/xml text/css application/x-javascript application/javascript text/javascript
</ifmodule>
